<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>STFGames</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="main-wrapper p-2">
        <h1 class="mb-3">El Juego de la Memoria</h1>
        <h4 class="mb-3">Total de imágenes seleccionadas: <span id="ImgCount">0</span></h4>
        <input type="file" id="AddImg" accept="image/png" hidden onchange="readURL(this)">
        <button class="btn btn-success" id="AddImgBtn">Agregar imágenes</button>
        <div class="row" id="ImgAdded"></div>
    </div>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <!--Código del juego-->
    <script>
        
        //Función para añadir la cuenta y añadir las etiquetas que contienen las imagenes subidas
        function readURL(input) {
            if (input.files && input.files[0]) {
                var count = $("#ImgCount").text();
                count++;//Incrementamos la cuenta
                //Actualizamos la cuenta en la vista
                $("#ImgCount").html(count);
                //Creamos la etiqueta que contendrá la imagen agregada
                var imgPrev = "<div class='col'><img id='imagePreview1'></div>";
                for (i = 2; i<= count; i++) {
                    imgPrev += "<div class='col'><img id='imagePreview"+i+"'></div>";
                };
                $("#ImgAdded").html(imgPrev);//Se añade al html

                var reader = new FileReader();
                console.log("hola");
                reader.onload = function (e) {
                    $("#imagePreview"+count)
                        .attr('src', e.target.result)
                        .width(200)
                        .height(200);
                };

                reader.readAsDataURL(input.files[0]);
            }
        }

        $("#AddImgBtn").click(function () {
            $("#AddImg").click();
        });
    </script>
</body>
</html>